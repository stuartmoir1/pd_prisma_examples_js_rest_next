{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/stuartmoir/Desktop/profdev/prisma/my-prisma-examples/javascript/7_rest-nextjs/pages/search.jsx\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\nimport Layout from '../components/Layout';\nimport Post from '../components/Post';\n\nvar Search = function Search(props) {\n  var _useState = useState(''),\n      searchString = _useState[0],\n      setSearchString = _useState[1];\n\n  var submitData = function submitData(e) {\n    var url, init, res, data;\n    return _regeneratorRuntime.async(function submitData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            url = \"http://localhost:3000/api/filterPosts?searchString=\".concat(searchString);\n            init = {\n              method: 'GET',\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            _context.prev = 3;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(fetch(url, init));\n\n          case 6:\n            res = _context.sent;\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 9:\n            data = _context.sent;\n            Router.push('/search');\n            _context.next = 16;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](3);\n            console.log(_context.t0);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 13]], Promise);\n  };\n\n  console.log(\"props:\", props);\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3916623331\" + \" \" + 'page',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, __jsx(\"form\", {\n    onSubmit: submitData,\n    className: \"jsx-3916623331\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-3916623331\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Search\"), __jsx(\"input\", {\n    autoFocus: true,\n    onChange: function onChange(e) {\n      return setSearchString(e.target.value);\n    },\n    placeholder: \"Enter text\",\n    type: \"text\",\n    value: searchString,\n    className: \"jsx-3916623331\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), __jsx(\"input\", {\n    disabled: !searchString,\n    type: \"submit\",\n    value: \"Search\",\n    className: \"jsx-3916623331\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), __jsx(\"a\", {\n    href: \"#\",\n    onClick: function onClick() {\n      return Router.push('/');\n    },\n    className: \"jsx-3916623331\" + \" \" + 'back',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"or Cancel\")), __jsx(\"main\", {\n    className: \"jsx-3916623331\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, props.posts.map(function (post) {\n    return __jsx(\"div\", {\n      key: post.id,\n      className: \"jsx-3916623331\" + \" \" + 'post',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, __jsx(Post, {\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }));\n  }))), __jsx(_JSXStyle, {\n    id: \"3916623331\",\n    __self: _this\n  }, \".page.jsx-3916623331{background:white;padding:3rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}input[type='text'].jsx-3916623331{width:100%;padding:0.5rem;margin:0.5rem 0;border-radius:0.25rem;border:0.125rem solid rgba(0,0,0,0.2);}input[type='submit'].jsx-3916623331{background:#ececec;border:0;padding:1rem 2rem;}.back.jsx-3916623331{margin-left:1rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdHVhcnRtb2lyL0Rlc2t0b3AvcHJvZmRldi9wcmlzbWEvbXktcHJpc21hLWV4YW1wbGVzL2phdmFzY3JpcHQvN19yZXN0LW5leHRqcy9wYWdlcy9zZWFyY2guanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTREb0IsQUFHOEIsQUFPTixBQVFRLEFBTUYsV0FiRixNQVBGLEFBcUJmLEVBTlcsT0FQTyxFQVFFLEVBZkwsWUFRUyxJQVF4QixrQkFQMkMsc0NBQzNDLEVBVHlCLG1HQUN6QiIsImZpbGUiOiIvVXNlcnMvc3R1YXJ0bW9pci9EZXNrdG9wL3Byb2ZkZXYvcHJpc21hL215LXByaXNtYS1leGFtcGxlcy9qYXZhc2NyaXB0LzdfcmVzdC1uZXh0anMvcGFnZXMvc2VhcmNoLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnO1xuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcic7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IFBvc3QgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3N0JztcblxuY29uc3QgU2VhcmNoID0gcHJvcHMgPT4ge1xuXG4gIGNvbnN0IFtzZWFyY2hTdHJpbmcsIHNldFNlYXJjaFN0cmluZ10gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgY29uc3Qgc3VibWl0RGF0YSA9IGFzeW5jIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB1cmwgPSBgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9maWx0ZXJQb3N0cz9zZWFyY2hTdHJpbmc9JHtzZWFyY2hTdHJpbmd9YDtcbiAgICBjb25zdCBpbml0ID0ge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIGluaXQpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBSb3V0ZXIucHVzaCgnL3NlYXJjaCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5sb2coXCJwcm9wczpcIiwgcHJvcHMpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYWdlJz5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17c3VibWl0RGF0YX0+XG4gICAgICAgICAgICA8aDE+U2VhcmNoPC9oMT5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0U2VhcmNoU3RyaW5nKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0VudGVyIHRleHQnXG4gICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hTdHJpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshc2VhcmNoU3RyaW5nfVxuICAgICAgICAgICAgICB0eXBlPSdzdWJtaXQnXG4gICAgICAgICAgICAgIHZhbHVlPSdTZWFyY2gnXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGEgY2xhc3NOYW1lPSdiYWNrJyBocmVmPScjJyBvbkNsaWNrPXsoKSA9PiBSb3V0ZXIucHVzaCgnLycpfT5cbiAgICAgICAgICAgICAgb3IgQ2FuY2VsXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIDxtYWluPlxuICAgICAgICAgICAge3Byb3BzLnBvc3RzLm1hcChwb3N0ID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3Bvc3QuaWR9IGNsYXNzTmFtZT0ncG9zdCc+XG4gICAgICAgICAgICAgICAgPFBvc3QgcG9zdD17cG9zdH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLnBhZ2Uge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICBwYWRkaW5nOiAzcmVtO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlucHV0W3R5cGU9J3RleHQnXSB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgICAgIG1hcmdpbjogMC41cmVtIDA7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xuICAgICAgICAgICAgYm9yZGVyOiAwLjEyNXJlbSBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5wdXRbdHlwZT0nc3VibWl0J10ge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogI2VjZWNlYztcbiAgICAgICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW0gMnJlbTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYmFjayB7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMXJlbTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvTGF5b3V0PlxuICAgICAgPExheW91dD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhZ2UnPlxuICAgICAgICAgIDxtYWluPlxuICAgICAgICAgICAge3Byb3BzLnBvc3RzLm1hcChwb3N0ID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3Bvc3QuaWR9IGNsYXNzTmFtZT0ncG9zdCc+XG4gICAgICAgICAgICAgICAgPFBvc3QgcG9zdD17cG9zdH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLnBvc3Qge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMXMgZWFzZS1pbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAucG9zdDpob3ZlciB7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAxcHggMXB4IDNweCAjYWFhO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5wb3N0ICsgLnBvc3Qge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMnJlbTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvTGF5b3V0PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBhc3luYyBjb250ZXh0ID0+IHtcblxuICBjb25zb2xlLmxvZyhcIkNPTlRFWFQ6XCIsIGNvbnRleHQpO1xuXG4gIGxldCBwb3N0cyA9IFtdO1xuICAvL2lmIChjb250ZXh0LnBhcmFtcyAmJiBjb250ZXh0LnBhcmFtcy5zZWFyY2hTdHJpbmcpIHtcbiAgLy9jb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9maWx0ZXJQb3N0cz9zZWFyY2hTdHJpbmc9JHtjb250ZXh0LnBhcmFtcy5zZWFyY2hTdHJpbmd9YCk7XG5cblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9maWx0ZXJQb3N0cz9zZWFyY2hTdHJpbmc9b2xsYCk7XG4gIHBvc3RzID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICBjb25zb2xlLmxvZyhcInBvc3RzOlwiLCBwb3N0cyk7XG4gICAgXG5cbiAgcmV0dXJuIHsgcHJvcHM6IHsgcG9zdHMgfSB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBTZWFyY2g7Il19 */\\n/*@ sourceURL=/Users/stuartmoir/Desktop/profdev/prisma/my-prisma-examples/javascript/7_rest-nextjs/pages/search.jsx */\")), __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2425166840\" + \" \" + 'page',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, __jsx(\"main\", {\n    className: \"jsx-2425166840\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, props.posts.map(function (post) {\n    return __jsx(\"div\", {\n      key: post.id,\n      className: \"jsx-2425166840\" + \" \" + 'post',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, __jsx(Post, {\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }));\n  }))), __jsx(_JSXStyle, {\n    id: \"2425166840\",\n    __self: _this\n  }, \".post.jsx-2425166840{background:white;-webkit-transition:box-shadow 0.1s ease-in;transition:box-shadow 0.1s ease-in;}.post.jsx-2425166840:hover{box-shadow:1px 1px 3px #aaa;}.post.jsx-2425166840+.post.jsx-2425166840{margin-top:2rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdHVhcnRtb2lyL0Rlc2t0b3AvcHJvZmRldi9wcmlzbWEvbXktcHJpc21hLWV4YW1wbGVzL2phdmFzY3JpcHQvN19yZXN0LW5leHRqcy9wYWdlcy9zZWFyY2guanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlHb0IsQUFHOEIsQUFLVyxBQUlaLGdCQUNsQixDQVRxQyxXQUtyQyxtRUFKQSIsImZpbGUiOiIvVXNlcnMvc3R1YXJ0bW9pci9EZXNrdG9wL3Byb2ZkZXYvcHJpc21hL215LXByaXNtYS1leGFtcGxlcy9qYXZhc2NyaXB0LzdfcmVzdC1uZXh0anMvcGFnZXMvc2VhcmNoLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnO1xuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcic7XG5cbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IFBvc3QgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3N0JztcblxuY29uc3QgU2VhcmNoID0gcHJvcHMgPT4ge1xuXG4gIGNvbnN0IFtzZWFyY2hTdHJpbmcsIHNldFNlYXJjaFN0cmluZ10gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgY29uc3Qgc3VibWl0RGF0YSA9IGFzeW5jIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB1cmwgPSBgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9maWx0ZXJQb3N0cz9zZWFyY2hTdHJpbmc9JHtzZWFyY2hTdHJpbmd9YDtcbiAgICBjb25zdCBpbml0ID0ge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIGluaXQpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBSb3V0ZXIucHVzaCgnL3NlYXJjaCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5sb2coXCJwcm9wczpcIiwgcHJvcHMpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYWdlJz5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17c3VibWl0RGF0YX0+XG4gICAgICAgICAgICA8aDE+U2VhcmNoPC9oMT5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0U2VhcmNoU3RyaW5nKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0VudGVyIHRleHQnXG4gICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hTdHJpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshc2VhcmNoU3RyaW5nfVxuICAgICAgICAgICAgICB0eXBlPSdzdWJtaXQnXG4gICAgICAgICAgICAgIHZhbHVlPSdTZWFyY2gnXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGEgY2xhc3NOYW1lPSdiYWNrJyBocmVmPScjJyBvbkNsaWNrPXsoKSA9PiBSb3V0ZXIucHVzaCgnLycpfT5cbiAgICAgICAgICAgICAgb3IgQ2FuY2VsXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIDxtYWluPlxuICAgICAgICAgICAge3Byb3BzLnBvc3RzLm1hcChwb3N0ID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3Bvc3QuaWR9IGNsYXNzTmFtZT0ncG9zdCc+XG4gICAgICAgICAgICAgICAgPFBvc3QgcG9zdD17cG9zdH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLnBhZ2Uge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICBwYWRkaW5nOiAzcmVtO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlucHV0W3R5cGU9J3RleHQnXSB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgICAgIG1hcmdpbjogMC41cmVtIDA7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xuICAgICAgICAgICAgYm9yZGVyOiAwLjEyNXJlbSBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5wdXRbdHlwZT0nc3VibWl0J10ge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogI2VjZWNlYztcbiAgICAgICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW0gMnJlbTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYmFjayB7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMXJlbTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvTGF5b3V0PlxuICAgICAgPExheW91dD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhZ2UnPlxuICAgICAgICAgIDxtYWluPlxuICAgICAgICAgICAge3Byb3BzLnBvc3RzLm1hcChwb3N0ID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3Bvc3QuaWR9IGNsYXNzTmFtZT0ncG9zdCc+XG4gICAgICAgICAgICAgICAgPFBvc3QgcG9zdD17cG9zdH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLnBvc3Qge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMXMgZWFzZS1pbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAucG9zdDpob3ZlciB7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAxcHggMXB4IDNweCAjYWFhO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5wb3N0ICsgLnBvc3Qge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMnJlbTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvTGF5b3V0PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBhc3luYyBjb250ZXh0ID0+IHtcblxuICBjb25zb2xlLmxvZyhcIkNPTlRFWFQ6XCIsIGNvbnRleHQpO1xuXG4gIGxldCBwb3N0cyA9IFtdO1xuICAvL2lmIChjb250ZXh0LnBhcmFtcyAmJiBjb250ZXh0LnBhcmFtcy5zZWFyY2hTdHJpbmcpIHtcbiAgLy9jb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9maWx0ZXJQb3N0cz9zZWFyY2hTdHJpbmc9JHtjb250ZXh0LnBhcmFtcy5zZWFyY2hTdHJpbmd9YCk7XG5cblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9maWx0ZXJQb3N0cz9zZWFyY2hTdHJpbmc9b2xsYCk7XG4gIHBvc3RzID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICBjb25zb2xlLmxvZyhcInBvc3RzOlwiLCBwb3N0cyk7XG4gICAgXG5cbiAgcmV0dXJuIHsgcHJvcHM6IHsgcG9zdHMgfSB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBTZWFyY2g7Il19 */\\n/*@ sourceURL=/Users/stuartmoir/Desktop/profdev/prisma/my-prisma-examples/javascript/7_rest-nextjs/pages/search.jsx */\")));\n};\n\nexport var __N_SSP = true;\nexport default Search;","map":{"version":3,"sources":["/Users/stuartmoir/Desktop/profdev/prisma/my-prisma-examples/javascript/7_rest-nextjs/pages/search.jsx"],"names":["React","useState","fetch","Router","Layout","Post","Search","props","searchString","setSearchString","submitData","e","preventDefault","url","init","method","headers","res","json","data","push","console","log","target","value","posts","map","post","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\n\nimport Layout from '../components/Layout';\nimport Post from '../components/Post';\n\nconst Search = props => {\n\n  const [searchString, setSearchString] = useState('');\n\n  const submitData = async e => {\n    e.preventDefault();\n    const url = `http://localhost:3000/api/filterPosts?searchString=${searchString}`;\n    const init = {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n    }\n\n    try {\n      const res = await fetch(url, init);\n      const data = await res.json();\n      Router.push('/search');\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  console.log(\"props:\", props);\n\n  return (\n    <div>\n      <Layout>\n        <div className='page'>\n          <form onSubmit={submitData}>\n            <h1>Search</h1>\n            <input\n              autoFocus\n              onChange={e => setSearchString(e.target.value)}\n              placeholder='Enter text'\n              type='text'\n              value={searchString}\n            />\n            <input\n              disabled={!searchString}\n              type='submit'\n              value='Search'\n            />\n            <a className='back' href='#' onClick={() => Router.push('/')}>\n              or Cancel\n            </a>\n          </form>\n          <main>\n            {props.posts.map(post => (\n              <div key={post.id} className='post'>\n                <Post post={post} />\n              </div>\n            ))}\n          </main>\n        </div>\n        <style jsx>{`\n          .page {\n            background: white;\n            padding: 3rem;\n            display: flex;\n            justify-content: center;\n          }\n\n          input[type='text'] {\n            width: 100%;\n            padding: 0.5rem;\n            margin: 0.5rem 0;\n            border-radius: 0.25rem;\n            border: 0.125rem solid rgba(0, 0, 0, 0.2);\n          }\n\n          input[type='submit'] {\n            background: #ececec;\n            border: 0;\n            padding: 1rem 2rem;\n          }\n\n          .back {\n            margin-left: 1rem;\n          }\n        `}</style>\n      </Layout>\n      <Layout>\n        <div className='page'>\n          <main>\n            {props.posts.map(post => (\n              <div key={post.id} className='post'>\n                <Post post={post} />\n              </div>\n            ))}\n          </main>\n        </div>\n        <style jsx>{`\n          .post {\n            background: white;\n            transition: box-shadow 0.1s ease-in;\n          }\n\n          .post:hover {\n            box-shadow: 1px 1px 3px #aaa;\n          }\n\n          .post + .post {\n            margin-top: 2rem;\n          }\n        `}</style>\n      </Layout>\n    </div>\n  )\n}\n\nexport const getServerSideProps = async context => {\n\n  console.log(\"CONTEXT:\", context);\n\n  let posts = [];\n  //if (context.params && context.params.searchString) {\n  //const res = await fetch(`http://localhost:3000/api/filterPosts?searchString=${context.params.searchString}`);\n\n\n  const res = await fetch(`http://localhost:3000/api/filterPosts?searchString=oll`);\n  posts = await res.json();\n\n  console.log(\"posts:\", posts);\n    \n\n  return { props: { posts } };\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}