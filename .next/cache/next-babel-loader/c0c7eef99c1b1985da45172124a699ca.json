{"ast":null,"code":"import { PrismaClient } from '@prisma/client';\nconst prisma = new PrismaClient(); // POST /api/post\n// Required fields in body: title, authorEmail\n// Optional fields in body: content\n\nexport default async function handle(req, res) {\n  const {\n    title,\n    content,\n    authorEmail\n  } = req.body;\n  const result = await prisma.post.create({\n    data: {\n      title,\n      content,\n      author: {\n        connect: {\n          email: authorEmail\n        }\n      }\n    }\n  });\n  res.json(result);\n}","map":{"version":3,"sources":["/Users/stuartmoir/Desktop/profdev/prisma/my-prisma-examples/javascript/7_rest-nextjs/pages/api/post/index.js"],"names":["PrismaClient","prisma","handle","req","res","title","content","authorEmail","body","result","post","create","data","author","connect","email","json"],"mappings":"AAAA,SAASA,YAAT,QAA6B,gBAA7B;AAEA,MAAMC,MAAM,GAAG,IAAID,YAAJ,EAAf,C,CAEA;AACA;AACA;;AACA,eAAe,eAAeE,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA;AAAlB,MAAkCJ,GAAG,CAACK,IAA5C;AACA,QAAMC,MAAM,GAAG,MAAMR,MAAM,CAACS,IAAP,CAAYC,MAAZ,CAAmB;AACtCC,IAAAA,IAAI,EAAE;AAAEP,MAAAA,KAAF;AAASC,MAAAA,OAAT;AACJO,MAAAA,MAAM,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,KAAK,EAAER;AAAT;AAAX;AADJ;AADgC,GAAnB,CAArB;AAKAH,EAAAA,GAAG,CAACY,IAAJ,CAASP,MAAT;AACD","sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst prisma = new PrismaClient();\n\n// POST /api/post\n// Required fields in body: title, authorEmail\n// Optional fields in body: content\nexport default async function handle(req, res) {\n  const { title, content, authorEmail } = req.body;\n  const result = await prisma.post.create({\n    data: { title, content,\n      author: { connect: { email: authorEmail } }\n    }\n  });\n  res.json(result);\n}\n"]},"metadata":{},"sourceType":"module"}