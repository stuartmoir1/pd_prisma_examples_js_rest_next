{"ast":null,"code":"import { PrismaClient } from '@prisma/client';\nconst prisma = new PrismaClient(); // PUT /api/publish/:id\n\nexport default async function handle(req, res) {\n  const id = req.query.id;\n  const post = await prisma.post.update({\n    where: {\n      id: Number(id)\n    },\n    data: {\n      published: true\n    }\n  });\n  res.json(post);\n}","map":{"version":3,"sources":["/Users/stuartmoir/Desktop/profdev/prisma/my-prisma-examples/javascript/7_rest-nextjs/pages/api/publish/[id].js"],"names":["PrismaClient","prisma","handle","req","res","id","query","post","update","where","Number","data","published","json"],"mappings":"AAAA,SAASA,YAAT,QAA6B,gBAA7B;AAEA,MAAMC,MAAM,GAAG,IAAID,YAAJ,EAAf,C,CAEA;;AACA,eAAe,eAAeE,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7C,QAAMC,EAAE,GAAGF,GAAG,CAACG,KAAJ,CAAUD,EAArB;AACA,QAAME,IAAI,GAAG,MAAMN,MAAM,CAACM,IAAP,CAAYC,MAAZ,CAAmB;AACpCC,IAAAA,KAAK,EAAE;AAAEJ,MAAAA,EAAE,EAAEK,MAAM,CAACL,EAAD;AAAZ,KAD6B;AAEpCM,IAAAA,IAAI,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb;AAF8B,GAAnB,CAAnB;AAIAR,EAAAA,GAAG,CAACS,IAAJ,CAASN,IAAT;AACD","sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst prisma = new PrismaClient();\n\n// PUT /api/publish/:id\nexport default async function handle(req, res) {\n  const id = req.query.id;\n  const post = await prisma.post.update({\n    where: { id: Number(id) },\n    data: { published: true }\n  });\n  res.json(post);\n}\n"]},"metadata":{},"sourceType":"module"}