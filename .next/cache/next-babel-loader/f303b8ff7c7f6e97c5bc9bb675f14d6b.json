{"ast":null,"code":"import { PrismaClient } from '@prisma/client';\nconst prisma = new PrismaClient(); // GET /api/filtersPosts?searchString=:searchString\n\nexport default async function handle(req, res) {\n  const {\n    searchString\n  } = req.query;\n  const posts = await prisma.post.findMany({\n    where: {\n      OR: [{\n        title: {\n          contains: searchString\n        }\n      }, {\n        content: {\n          contains: searchString\n        }\n      }]\n    },\n    include: {\n      author: true\n    }\n  });\n  res.json(posts);\n}","map":{"version":3,"sources":["/Users/stuartmoir/Desktop/profdev/prisma/my-prisma-examples/javascript/7_rest-nextjs/pages/api/filterPosts.js"],"names":["PrismaClient","prisma","handle","req","res","searchString","query","posts","post","findMany","where","OR","title","contains","content","include","author","json"],"mappings":"AAAA,SAASA,YAAT,QAA6B,gBAA7B;AAEA,MAAMC,MAAM,GAAG,IAAID,YAAJ,EAAf,C,CAEA;;AACA,eAAe,eAAeE,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7C,QAAM;AAAEC,IAAAA;AAAF,MAAmBF,GAAG,CAACG,KAA7B;AACA,QAAMC,KAAK,GAAG,MAAMN,MAAM,CAACO,IAAP,CAAYC,QAAZ,CAAqB;AACvCC,IAAAA,KAAK,EAAE;AACLC,MAAAA,EAAE,EAAE,CACF;AAAEC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAER;AAAZ;AAAT,OADE,EAEF;AAAES,QAAAA,OAAO,EAAE;AAAED,UAAAA,QAAQ,EAAER;AAAZ;AAAX,OAFE;AADC,KADgC;AAOvCU,IAAAA,OAAO,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV;AAP8B,GAArB,CAApB;AASAZ,EAAAA,GAAG,CAACa,IAAJ,CAASV,KAAT;AACD","sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst prisma = new PrismaClient();\n\n// GET /api/filtersPosts?searchString=:searchString\nexport default async function handle(req, res) {\n  const { searchString } = req.query;\n  const posts = await prisma.post.findMany({\n    where: {\n      OR: [\n        { title: { contains: searchString } },\n        { content: { contains: searchString } }\n      ]\n    },\n    include: { author: true }\n  });\n  res.json(posts);\n}\n"]},"metadata":{},"sourceType":"module"}